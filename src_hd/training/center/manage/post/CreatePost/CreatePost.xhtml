<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:ic="http://ivyteam.ch/jsf/component"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
	<ui:composition
		template="/layouts/includes/basic-manage-template.xhtml">
		<ui:define name="title">Create Post</ui:define>

		<ui:define name="content">
			<div class="ui-g">
				<div class="ui-g-12 ui-md-6 ui-lg-3 borders" />
				<div class="ui-g-12 ui-md-6 ui-lg-6 borders">
					<ic:training.center.manage.components.Header />
				</div>
				<div class="ui-g-12 ui-md-6 ui-lg-3 borders" />

			</div>
			<div class="ui-g">
				<div class="ui-g-12 ui-md-6 ui-lg-3 borders" />
				<div class="ui-g-12 ui-md-6 ui-lg-6 process-chain">
					<ic:ch.ivy.addon.portalkit.singleapp.process.ProcessChain
						id="process-chain-circle-horizontal"
						componentId="component-circle-horizontal" shape="CIRCLE"
						direction="HORIZONTAL" isShowAllSteps="false"
						actualStepIndex="#{data.indexProcessChain}"
						steps="#{['New','Confirm','Done']}" />
				</div>
				<div class="ui-g-12 ui-md-6 ui-lg-3 borders" />

			</div>
			<div id="content-page" class="ui-g set-hight">
				<div class="ui-g-12 ui-md-6 ui-lg-3 borders" />
				<div class="ui-g-12 ui-md-6 ui-lg-6 borders post-data">
					<div id="content-create-user" class="ui-g-9 content-create-user">
						<p:fieldset legend="Create New Post" styleClass="fieldset">
							<div class="logo">
								<p:graphicImage styleClass="img-product"
									name="layouts/images/logo.bmp" />
							</div>
							<h:form id="form-create">
								<p:messages />
								<div>
									<div class="ui-g-12 ui-md-8 ui-lg-1 borders" />
									<div class="ui-g-12 ui-md-8 ui-lg-3 title">Name:</div>
									<div class="ui-g-12 ui-md-4 ui-lg-8 borders">
										<p:inputText styleClass="content-element" style="width: 90%;"
											value="#{data.post.name}" />
									</div>
									<div class="ui-g-12 ui-md-8 ui-lg-1 borders" />
									<div class="ui-g-12 ui-md-8 ui-lg-3 title">Category:</div>
									<div class="ui-g-12 ui-md-4 ui-lg-8 borders">
										<p:selectOneMenu styleClass="select-menu"
											value="#{data.post.category}" converter="pojoConverter">
											<c:forEach var="category" items="#{data.categories}">
												<f:selectItem itemValue="#{category}"
													itemLabel="#{category.name}" />
											</c:forEach>
										</p:selectOneMenu>
									</div>
									<div class="ui-g-12 ui-md-8 ui-lg-1 borders" />
									<div class="ui-g-12 ui-md-8 ui-lg-3 title">Description:</div>
									<div class="ui-g-12 ui-md-4 ui-lg-8 borders">
										<p:inputText styleClass="content-element" style="width: 90%;"
											value="#{data.post.description}" />
									</div>
									<div class="ui-g-12 ui-md-8 ui-lg-1 borders" />
									<div class="ui-g-12 ui-md-8 ui-lg-3 title">Content:</div>
									<div class="ui-g-12 ui-md-4 ui-lg-8 borders">
										<p:inputTextarea style="width:90%" rows="4" cols="30"
											autoResize="false" styleClass="text-area-content"
											value="#{data.post.content_post}" />
									</div>
									<!-- 									<h:form id="form-img" enctype="multipart/form-data">
 -->
									<h:panelGroup id="loadimg" layout="block">
										<div class="ui-g-12 ui-md-8 ui-lg-1 borders" />
										<div class="ui-g-12 ui-md-8 ui-lg-3 title title-load">Image:</div>
										<div class="ui-g-12 ui-md-4 ui-lg-8 borders">
											<div class="ui-g-12 ui-md-3 ui-lg-8 upload-img">
												<p:fileUpload fileUploadListener="#{logic.handleFileUpload}"
													auto="true" id="fileUpload" styleClass="content-element"
													style="width: 90%;" required="true"
													update=":form-create:loadimg" />
												<c:if test="${data.post.img != null}">
													<div class="loaded-file2">Loaded Image!</div>
												</c:if>

											</div>

											<div class="ui-g-12 ui-md-8 ui-lg-3 img loaded-file-img">
												<c:if test="${data.comment.length() >0 }">
													<p:graphicImage styleClass="img-post" style="width: 90%;"
														name="layouts/file-upload/#{data.post.img}" />
												</c:if>
											</div>
										</div>
									</h:panelGroup>
									<!-- 									</h:form>
 -->
									<h:panelGroup id="loadfile" layout="block">
										<div class="ui-g-12 ui-md-8 ui-lg-1 borders" />
										<div class="ui-g-12 ui-md-8 ui-lg-3 title title-load">File
											Post:</div>
										<div class="ui-g-12 ui-md-4 ui-lg-8 borders">
											<div class="ui-g-12 ui-md-3 ui-lg-8 upload-img">
												<p:fileUpload
													fileUploadListener="#{logic.handleFileUpload2}"
													style="width: 90%;" auto="true" id="fileUploadMulti"
													styleClass="content-element" required="true"
													update=":form-create:loadfile" />
												<c:if test="${data.post.filePost.size() > 0}">
													<div class="loaded-file2">Loaded File!</div>
												</c:if>
											</div>
											<div class="ui-g-12 ui-md-8 ui-lg-3">
												<div class="loaded-file">
													<c:if test="${data.post.filePost.size() >0 }">
														<h:commandButton value="Download"
															action="#{fileDownload.download(data.post.filePost[data.post.filePost.size()-1].url)}" />
													</c:if>
												</div>
											</div>
										</div>
									</h:panelGroup>

									<c:if test="${data.comment.length() >0 }">
										<div class="ui-g-12 ui-md-8 ui-lg-1 borders" />
										<div class="ui-g-12 ui-md-8 ui-lg-3 title">
											<p:outputLabel for="content-comment" value="INote: " />
										</div>
										<div class="ui-g-12 ui-md-4 ui-lg-8 borders">
											<p:inputText id="content-comment"
												styleClass="content-element" required="true"
												style="width: 90%;color: red; font-weight: bold"
												value="#{data.comment}" disabled="true" />
										</div>
										<div class="ui-g-12 ui-md-8 ui-lg-1 borders" />
										<div class="ui-g-12 ui-md-8 ui-lg-3 title">
											<p:outputLabel for="timeCreate-comment" value="Creation Date" />
										</div>
										<div class="ui-g-12 ui-md-4 ui-lg-8 borders">
											<p:inputText id="timeCreate-comment"
												styleClass="content-element" required="true"
												style="width: 90%; color: red; font-weight: bold"
												value="#{data.dateCreateNote}" disabled="true" />
										</div>
									</c:if>

								</div>
								<div class="ui-g-12 button-create">
									<p:commandButton id="save" icon="fa fa-save" value="Submit"
										actionListener="#{logic.create}" update="@form" />
								</div>
							</h:form>
						</p:fieldset>
					</div>

				</div>
				<div class="ui-g-12 ui-md-6 ui-lg-3 borders" />

			</div>
			<div class="ui-g">
				<div class="ui-g-12 ui-md-6 ui-lg-3 borders" />
				<div class="ui-g-12 ui-md-6 ui-lg-6 borders">
					<!-- 					<ic:training.center.manage.components.Footer />
 -->
				</div>
				<div class="ui-g-12 ui-md-6 ui-lg-3 borders" />
			</div>



			<h:outputStylesheet name="layouts/style/create-post.css" />
		</ui:define>
	</ui:composition>
</h:body>
</html>


<!-- <div class="ui-g-9 class-content">

					<ic:training.center.manage.components.Header>
					</ic:training.center.manage.components.Header>

				<div id="content-create-user" class="ui-g-9 content-create-user">
					<p:fieldset legend="Create New Post" styleClass="fieldset">
						<div class="logo">
							<p:graphicImage styleClass="img-product"
								name="layouts/images/logo.bmp" />
						</div>
						<h:form id="form-create">
							<p:messages />
							<div class="element-create">
								<div class="title-element-create">Name:</div>
								<div class="input-content-element">
									<p:inputText styleClass="content-element"
										value="#{data.post.name}" />
								</div>
							</div>

							<div class="element-create">
								<div class="title-element-create">Category:</div>
								<p:selectOneMenu styleClass="select-menu" id="group"
									value="#{data.post.category}"
									labelTemplate="#{data.post.category.name}"
									converter="pojoConverter">
									<f:selectItems value="#{data.categories}" var="category"
										itemLabel="#{category.name}" itemValue="#{category}" />
								</p:selectOneMenu>
							</div>

							<div class="element-create">
								<div class="title-element-create">Description:</div>
								<div class="input-content-element">
									<p:inputText styleClass="content-element"
										value="#{data.post.description}" />
								</div>
							</div>
							<div class="element-create">
								<div class="title-element-create">Content:</div>
								<div class="input-content-element">
									<p:inputTextarea rows="5" cols="45"
										value="#{data.post.content_post}" />
								</div>
							</div>

							<div class="element-create">
								<div class="title-element-create">Image:</div>
								<div class="input-content-element">
									<p:fileUpload fileUploadListener="#{logic.handleFileUpload}"
										auto="true" id="fileUpload" styleClass="content-element"
										required="true" />
								</div>
							</div>

							<div class="element-create">
								<div class="title-element-create">File Post:</div>
								<div class="input-content-element">
									<p:fileUpload fileUploadListener="#{logic.handleFileUpload2}"
										auto="true" id="fileUploadMulti" styleClass="content-element"
										required="true" />
								</div>
							</div>

							<div class="button-create">
								<p:commandButton id="save" icon="fa fa-save"
									value="Confirm Information" actionListener="#{logic.create}"
									update="@form" />
							</div>
						</h:form>
					</p:fieldset>
				</div>

				<div>
					<ic:training.center.manage.components.Footer>
					</ic:training.center.manage.components.Footer>
				</div>
				<h:outputStylesheet name="layouts/style/create-post.css" />
			</div> -->